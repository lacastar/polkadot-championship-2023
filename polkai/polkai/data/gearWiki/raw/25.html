{"title":"Gear Documentation Portal","softTitle":"Gear Documentation Portal","date":null,"author":[],"publisher":null,"copyright":null,"description":"Persistent data of the Gear smart contract is stored in the same way as in a classic program and does not require initialization of the external storage.","lang":"en","canonicalLink":"https://wiki.gear-tech.io/docs/developing-contracts/state","tags":[],"image":"https://wiki.gear-tech.io/img/ogimage.jpg","videos":[],"links":[{"text":"Learn more","href":"/docs/developing-contracts/metadata"}],"text":"Persistent data of the Gear smart contract is stored in the same way as in a classic program and does not require initialization of the external storage.\n\nIf you're programming in Rust or other object-oriented languages, you should be familiar with most types. However, the ActorId type is something new when developing contracts via the Gear Protocol.\n\nTo display the contract state information, the state() function is used. It allows you to instantly read the contract status (for example, contract balance). Reading state is a free function and does not require gas costs.\n\nExample of the returning all wallets defined above:\n\nAdditionally, you can handle incoming payload and return only the necessary part of the state. For example, you can return only the selected wallet:\n\nAdditionally, you can create your own program to read the state. This wrapper will allow you to implement custom functions for the client side, not depending on the main program.\n\nThis has a number of advantages, for example, you will always be able to read the state even if the program changes (as long as the incoming or outgoing types have not changed). Or you are creating a service based on an already existing program and you need some of your own functions to get your own chanks of data from the state.\n\nTo do this, we need to create an independent program and describe the necessary functions inside the metawasm trait. For example:\n\nOr more complex example:\n\nTo build *.meta.wasm, the following build.rs file in the root of your project is required:"}